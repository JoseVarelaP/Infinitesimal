[Global]
FallbackTheme=_fallback
ScreenWidth=1
ScreenHeight=720

[Common]
AutoSetStyle=true

[GameState]
DefaultSort="Group"

[MenuTimer]
Text1OnCommand=visible,true;draworder,99;diffuse,1,1,1,1;maxwidth,45;zoom,1.0
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+20

[ScreenLogo]
NextScreen="ScreenDemonstration"
PrepareScreen="ScreenDemonstration"
TimerSeconds=20
ForceTimer=true
ShowCreditDisplay=false

[ScreenDemonstration]
NextScreen="ScreenInit"
PrepareScreen="ScreenDemonstration"
ShowCreditDisplay=false
LifeMeterBarOnCommand=xy,-999,-999
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false

[ScreenIntro]
NextScreen="ScreenLogo"
ShowCreditDisplay=false

[ScreenTitleMenu]
ChoiceNames="GameStart,Options,Edit,Exit"
ChoiceGameStart="text,Game Start;screen,"..SetPlayMode()
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(18*(itemIndex-(numItems-1)/2)); end

[ScreenTitleJoin]
ScrollerX=-999
ScrollerY=-999

[ScreenSelectPlayMode]
ShowScroller=false
PlayMusic=false
ChoiceNames="Arcade,Pro"
ChoiceArcade="screen,ScreenSelectMusic"
ChoicePro="screen,ScreenSelectMusic"
DefaultChoice="Arcade"

ForceTimer=false
TimerMetricsGroup="MenuTimer"
TimerSeconds=20
TimerOnCommand=visible,true;
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+20

[ScreenGameplay]
LifeMeterBarOnCommand=visible,false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false

[ScreenSelectMusic]
TimerOnCommand=visible,true;draworder,99
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+20

SampleMusicLoops=false
BannerOnCommand=visible,false
MusicWheelX=SCREEN_CENTER_X
MusicWheelY=SCREEN_CENTER_Y+135
MusicWheelOnCommand=zoom,0.5;addx,-_screen.w;decelerate,0.5;addx,_screen.w;fov,90;SetDrawByZPosition,true
MusicWheelOffCommand=SetDrawByZPosition,true
MusicWheelSongChosenMessageCommand=stoptweening;decelerate,0.2;diffusealpha,0;
MusicWheelSongUnchosenMessageCommand=stoptweening;decelerate,0.2;diffusealpha,1;
TwoPartSelection=true
TwoPartConfirmsOnly=false
CancelTwoPartSelectButton1="MenuUp"
CancelTwoPartSelectButton2="MenuDown"
PreviousDifficultyButton="MenuLeft"
NextDifficultyButton="MenuRight"

SelectMenuChangesDifficulty=false
ChangeStepsWithGameButtons=false
ChangeGroupsWithGameButtons=false

UseOptionsList=true
OptionsMenuAvailable=false
OptionsListP1OnCommand=x,SCREEN_LEFT+100;y,SCREEN_CENTER_Y-80;draworder,100;
OptionsListP2OnCommand=x,SCREEN_RIGHT-100;y,SCREEN_CENTER_Y-80;draworder,100;

CodeNames="OpenOpList,OpenOpList2=OpenOpList"
CodeOpenOpList="DownLeft,DownRight,DownLeft,DownRight,DownLeft,DownRight"
CodeOpenOpList2="DownLeft-DownRight,DownLeft-DownRight,DownLeft-DownRight"

[OptionsList]
Fallback="ScreenWithMenuElements"

TextOnCommand=diffusealpha,1;draworder,100;zoom,0.5;skewx,-0.2;shadowlength,0.75;diffusebottomedge,color("0.95,0.95,0.95,1");shadowcolor,color("0,0,0,1");
TextOffCommand=diffusealpha,0;

TextTweenOnCommand=stoptweening;diffusealpha,0;accelerate,0.475;diffusealpha,1;
TextTweenOffCommand=stoptweening;decelerate,0.175;diffusealpha,0;
TextResetCommand=

UnderlineOnCommand=diffusealpha,1;
UnderlineOffCommand=diffusealpha,1;
UnderlineSetTwoRowsCommand=
UnderlineSetOneRowCommand=
UnderlineShowCommand=visible,true
UnderlineHideCommand=visible,false
UnderlineTweenOnCommand=draworder,101;stoptweening;linear,0.1;diffusealpha,1;
UnderlineTweenOffCommand=draworder,101;stoptweening;linear,0.1;diffusealpha,0;
UnderlineResetCommand=diffusealpha,1;

CursorOnCommand=
CursorPositionTwoRowsCommand=
CursorPositionOneRowCommand=
CursorTweenOnCommand=stoptweening;linear,0.1;diffusealpha,1;
CursorTweenOffCommand=stoptweening;linear,0.1;diffusealpha,0;
CursorResetCommand=

OptionsListOnCommand=
OptionsListOffCommand=
OptionsListTweenOffCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOnCommand=playcommandonleaves,"FadeOn"
OptionsListResetCommand=

OptionsListTweenOutForwardCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOutBackwardCommand=playcommandonleaves,"FadeOff"

OptionsListTweenInForwardCommand=playcommandonleaves,"FadeOn"
OptionsListTweenInBackwardCommand=playcommandonleaves,"FadeOn"

OptionsListFadeOffCommand=stoptweening;linear,0.1;diffusealpha,0;
OptionsListFadeOnCommand=stoptweening;linear,0.1;diffusealpha,1;

TopMenu="SongMenu"
TopMenus="SongMenu"

DirectLines="Judgement,Mode"
CodeNames=""

PrevMenuButton="MenuUp"
NextMenuButton="MenuDown"
PrevItemButton="MenuLeft"
NextItemButton="MenuRight"

LineSongMenu="list,SongMenu"
LineSpeed="list,Speed"
LineNoteskins="list,Noteskins"
LineRush="list,Rush"
LineSystem="list,System"
LineScroll="list,Scroll"
LineReset="list,Reset"
LineAutoVelocity="list,AutoVelocity"
LineJudgement="lua,OptionRowJudgement()"
LineMode="lua,OptionRowModeSelect()"

ItemsSpacingY=15
MaxItemsBeforeSplit=16
ItemsSplitWidth=50

[ScreenOptionsMaster]
Fallback="ScreenOptions"
Class="ScreenOptionsMaster"
NoteSkinSortOrder=""

SongMenu="7"
SongMenuDefault=""
SongMenu,1="name,Speed;screen,Speed"
SongMenu,2="name,AutoVelocity;screen,AutoVelocity"
SongMenu,3="name,Noteskins;screen,Noteskins"
SongMenu,4="name,Judgement;screen,Judgement"
SongMenu,5="name,Rush;screen,Rush"
SongMenu,6="name,Mode;screen,Mode"
SongMenu,7="name,System;screen,System"

Speed="9"
SpeedDefault="mod,1x,m0,a0;name,1X"
Speed,1="mod,1x,m0,a0;name,1X"
Speed,2="mod,2x,m0,a0;name,2X"
Speed,3="mod,3x,m0,a0;name,3X"
Speed,4="mod,4x,m0,a0;name,4X"
Speed,5="mod,5x,m0,a0;name,5X"
Speed,6="mod,6x,m0,a0;name,6X"
Speed,7="mod,7x,m0,a0;name,7X"
Speed,8="mod,8x,m0,a0;name,8X"
Speed,9="mod,m600,a0;name,Auto"

AutoVelocity="10"
AutoVelocityDefault="mod,1x,m0,a0"
AutoVelocity,1="mod,1x,m0,a0;name,Off"
AutoVelocity,2="mod,1x,m0,a500;name,AV 500"
AutoVelocity,3="mod,1x,m0,a550;name,AV 550"
AutoVelocity,4="mod,1x,m0,a600;name,AV 600"
AutoVelocity,5="mod,1x,m0,a650;name,AV 650"
AutoVelocity,6="mod,1x,m0,a675;name,AV 675"
AutoVelocity,7="mod,1x,m0,a700;name,AV 700"
AutoVelocity,8="mod,1x,m0,a725;name,AV 725"
AutoVelocity,9="mod,1x,m0,a750;name,AV 750"
AutoVelocity,10="mod,1x,m0,a800;name,AV 800"
AutoVelocity,11="mod,1x,m0,a900;name,AV 900"

Noteskins="1"
NoteskinsDefault=""
Noteskins,1="lua,OptionRowAvailableNoteskins()"

Rush="7"
RushDefault="mod,1.0xmusic,no haste"
Rush,1="mod,0.8xmusic,no haste;name,80% Rate"
Rush,2="mod,0.9xmusic,no haste;name,90% Rate"
Rush,3="mod,1.0xmusic,no haste;name,100% Rate"
Rush,4="mod,1.1xmusic,no haste;name,110% Rate"
Rush,5="mod,1.2xmusic,no haste;name,120% Rate"
Rush,6="mod,1.5xmusic,no haste;name,150% Rate"
Rush,7="mod,2.0xmusic,no haste;name,200% Rate"

System="1"
SystemDefault=""
System,1="name,Scroll;screen,Scroll"

Scroll="2"
ScrollDefault="mod,no reverse,no alternate,no cross,no centered"
Scroll,1="mod,no reverse,no alternate,no cross,no centered;name,Default"
Scroll,2="mod,reverse;name,Reverse"

[OptionsListP1]
Fallback="OptionsList"

[OptionsListP2]
Fallback="OptionsList"

[ScreenSelectGroup]
Fallback="ScreenWithMenuElements"

#The below two lines have no effect because the timer is controlled with lua. However, they are required for the timer to show up.
TimerMetricsGroup="MenuTimer"
TimerSeconds=30

ForceTimer=false
TimerOnCommand=visible,true;draworder,102
TimerX=SCREEN_CENTER_X+160
TimerY=SCREEN_TOP+25

NumWheelItems=11

NextScreen="ScreenSelectMusic"
PrevScreen=Branch.TitleMenu()

[ScreenEvaluation]
TimerOnCommand=visible,true;draworder,99
TimerX=SCREEN_CENTER_X
TimerY=SCREEN_TOP+20

[MusicWheel]
ItemTransformFunction=wheelTransformNyoom
NumWheelItems=9
ShowRoulette=false
SwitchSeconds=0.1
ShowRoulette=false
ShowRandom=false
ShowPortal=false

[MusicWheelItem]
Fallback=WheelItemBase
#FUCK YOU
SectionExpandedX=9999
SectionExpandedY=9999
SectionExpandedOnCommand=diffusealpha,0;
SectionCollapsedX=9999
SectionCollapsedY=9999
SectionCollapsedOnCommand=diffusealpha,0;
SectionCountX=9999
SectionCountY=9999
SectionCountOnCommand=diffusealpha,0;

[TextBanner]
Fallback=WheelItemBase
TitleOnCommand=diffusealpha,0;
SubtitleOnCommand=diffusealpha,0;
ArtistOnCommand=diffusealpha,0;

[Player]
ReceptorArrowsYStandard=-160
ReceptorArrowsYReverse=160
RequireStepOnHoldHeads=false
RequireStepOnMines=false

[Combo]
# System Direction
ShowComboAt=HitCombo()
ShowMissesAt=MissCombo()
# Shrink and Grow the combo, DDR Style
NumberMinZoom=0.8
NumberMaxZoom=1
NumberMaxZoomAt=100
#
LabelMinZoom=0.75*0.75
LabelMaxZoom=0.75*0.75
# Things the combo does when you bang on it, and what the text does
PulseCommand=%function(self,param) self:stoptweening(); self:zoom(1.125*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end
PulseLabelCommand=%function(self,param) self:stoptweening(); self:zoom(param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end
NumberOnCommand=y,240-216-1.5;shadowlength,1;halign,1;valign,1;skewx,-0.125;
LabelOnCommand=x,6;y,22.5;shadowlength,1;zoom,0.75;diffusebottomedge,color("0.75,0.75,0.75,1");halign,0;valign,1

[CodeDetector]
# Codes on the MusicWheel that change stuff!
# For Future Reference:
# @ = Holding
# - = In Conjuction With / Then
# ~ = Released
# + = At The Same Time
#Don't erase PrevSteps/NextSteps, they only affect dance mode!
PrevSteps1="Up,Up"
PrevSteps2=""
NextSteps1="Down,Down"
NextSteps2=""
#Why doesn't CodeDetector just make something to have infinite combos instead of having all these
NextSort1=""
NextSort2=""
NextSort3=""
NextSort4=""
#Closing folders is no longer used.
#check ScreenSelectMusic overlay for the PIU combo
CloseCurrentFolder=""
#This is only a fallback for people who are too lazy to upgrade to nightlies,
#And it probably shouldn't be used.
#CloseCurrentFolder="UpLeft"
ModeMenu1=""
ModeMenu2=""
CancelAll=""
CancelAllPlayerOptions=""
Mirror=""
Left=""
Right=""
Shuffle=""
SuperShuffle=""
NextTransform=""
NextScrollSpeed=""
PreviousScrollSpeed=""
NextAccel=""
NextEffect=""
NextAppearance=""
NextTurn=""
Reverse=""
HoldNotes=""
Mines=""
Dark=""
CancelAll=""
NextGroup=""
PrevGroup=""
Hidden=""
